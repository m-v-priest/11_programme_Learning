
= 列表 list
:sectnums:
:toclevels: 3
:toc: left

---


数组的长度是固定的, 而列表 list 的长度是可变的. 所以列表比数组更灵活.

数组的缺点:

- 在数组的两个数据间插入数据是很麻烦的，而且在声明数组的时候, 必须指定数组的长度.


针对数组的这些缺点，C#中提供了List对象来克服这些缺点。

- ArrayList对象的大小是按照其中存储的数据来动态扩充与收缩的。


---

== 创建列表 List

[source, java]
----
List<int> list1 = new List<int>() { 1, 2, 3 }; //创建一个List, 里面的元素是 int类型的. 并且我们直接赋予它3个元素, 值是1,2,3.
----


---

== ---------- ----------

---

== 增

==== 添加元素, 用Add()方法 → listObj.Add(value)

[source, java]
----
List<int> list1 = new List<int>() { 1, 2, 3 }; //创建一个List, 里面的元素是 int类型的.

//添加元素, 用Add()方法
list1.Add(5);
list1.Add(8);

fn遍历数组(list1); //indx [0]=1, indx [1]=2, indx [2]=3, indx [3]=5, indx [4]=8,
----


---

==== 在index位置添加一个元素 → listObj.Insert(index, value)

[source, java]
----
//在index位置添加一个元素
list1.Insert(2, 999); // 在index2 处, 添加一个999
----


---

== ---------- ----------

---


== 删

==== 删除某个元素 (通过值) → listObj.Remove(value)

[source, java]
----
List<int> list1 = new List<int>() { 1, 2, 3, 99, 4 }; //创建一个List, 里面的元素是 int类型的.

list1.Remove(99); //删除 元素值=99 的那个元素
fn遍历数组(list1);   //indx [0]=1, indx [1]=2, indx [2]=3, indx [3]=4,
----


注意: 如果你的list中有两个相同value值的元素, 该  listObj.Remove(value) 方法, 只会删除第一个元素.

[source, java]
----
static void Main(string[] args)
{
    void fn遍历数组(List<int> arr)
    {
        foreach (var item in arr)
        {
            Console.Write(item + ",");
        }
        Console.WriteLine();
    }

    List<int>   list = new List<int>() { 1,2,3, 99,3,0};
    list.Remove(3);  //list中有两个3, 这个Remove()方法会删除哪一个呢? 会删除第一个.
    fn遍历数组(list); //1,2,99,3,0,

}
----

---


==== 删除下标为index的元素 → listObj.RemoveAt(index)

[source, java]
----
// 删除下标为index的元素.   语法：List. RemoveAt(int index);
list1.RemoveAt(2); //将index 2 处的元素删掉
----

---

==== 从下标index开始，删除count个元素. → listObj.RemoveRange(从哪个index处开始删, 要删除的元素数量)

[source, java]
----
List<int> list1 = new List<int>() { 1, 2, 3,4,5 };
fn遍历数组(list1); // indx [0]=1, indx [1]=2, indx [2]=3, indx [3]=4, indx [4]=5,

//从下标index开始，删除count个元素.   语法：List. RemoveRange(int index, int count);
list1.RemoveRange(3, 2); //将从 index=3开始往后的2元素, 都删掉
fn遍历数组(list1); //indx [0]=1, indx [1]=2, indx [2]=3,
----


---

== ---------- ----------

---

== 改

---

==== 用新列表, 覆盖老列表 → list1.AddRange(list2)

[source, java]
----
List<int> list1 = new List<int>() { 1, 2, 3,4,5 }; //创建一个List, 里面的元素是 int类型的.

//用新列表, 覆盖老列表.
List<int> list2 = new List<int> { 91, 92, 93 }; //先创建一个新list
list1.AddRange(list2);   //将list2, 添加到 list1里面. 注意, 会完全覆盖掉 list1 中的全部内容.
fn遍历数组(list2); //indx [0]=91, indx [1]=92, indx [2]=93,
----


---

== ---------- ----------

---

== 查


==== 查看某个item元素的 index索引值 → listObj.IndexOf(value)

[source, java]
----
List<int> list = new List<int>() { 1, 2, 3, 99, 3, 0 };

//查找列表中, 某个元素的索引值index
Console.WriteLine(list.IndexOf(99));  //3
Console.WriteLine(list.IndexOf(999));  //-1  ← 如果查找的元素值不存在, 则返回 -1

//在列表中, 从后往前来查找某元素的index值
Console.WriteLine(list.LastIndexOf(3));  //4
----

---

==== 查看数组的长度 -> listObj.Count

[source, java]
----
//查看数组的当前长度, 用Count属性. 注意, 首字母是大写!
Console.WriteLine(list1.Count); //5  ←目前, list1列表中, 有5个元素.
----


==== 遍历

推荐:
[source, java]
----
foreach (var item in list1)
{
    Console.WriteLine(item); //能直接遍历出list中的每个元素值
}
----


下面的麻烦:
[source, java]
----
//定义一个函数, 用来遍历输出数组中的元素, 获得每个元素的值. 教程里面, 这个方法可以写在Main函数前面.
void fn遍历数组(List<int> yourListObj)
{
    for (int i = 0; i <= yourListObj.Count - 1; i++)
    {
        Console.Write("indx [{0}]={1}, ", i, yourListObj[i]);
    }
    Console.WriteLine();
}

List<int> list1 = new List<int>() { 1, 2, 3 }; //创建一个List, 里面的元素是 int类型的.
fn遍历数组(list1); //indx [0]=1, indx [1]=2, indx [2]=3,

----

---

==== 判断某个元素是否在该List中 → listObj.Contains(value)

[source, java]
----
//判断某个元素是否在该List中.   语法：List. Contains(T item) 返回值为：true/false
Console.WriteLine(list1.Contains(2));  //True ← 判断元素值2, 是否在列表中.
----


---

== ---------- ----------

---

== 排序

==== 按元素值, 从小到大, 升序排列. → listObj.Sort()

[source, java]
----
List<int> list1 = new List<int>() { 7, 2, 57, 99, 14 };

list1.Sort(); //从小到大, 升序排列,
fn遍历数组(list1);   //indx [0]=2, indx [1]=7, indx [2]=14, indx [3]=57, indx [4]=99,
----


---


==== 给List里面元素, 反转顺序 → listObj.Reverse()

[source, java]
----
List<int> list1 = new List<int>() { 1,3,55,7,9 };

list1.Reverse(); //按列表中元素的原顺序, 反转顺序排列
fn遍历数组(list1);   //indx [0]=9, indx [1]=7, indx [2]=55, indx [3]=3, indx [4]=1,
----

---

==== 清空列表 → listObj.Clear()

[source, java]
----
List<int> list1 = new List<int>() { 1,3,55,7,9 };

list1.Clear(); //清空列表
fn遍历数组(list1);   //空
----
