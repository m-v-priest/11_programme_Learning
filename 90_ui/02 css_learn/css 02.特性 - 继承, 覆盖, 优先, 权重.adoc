

= css 三大特性: 继承性, 层叠性, 优先级, 权重计算
:toc:

---

== 1. 继承性:  父元素的属性, 子元素也能受影响

注意点:

1. 并不是所有的属性都可以继承, **只有以color、text-、font-、line- 开头的属性是可以继承的。**
2. 在css 继承中, 不仅仅是儿子可以继承父亲, 后代都可以得到继承.
3. css继承性中的特殊性:
- a标签的文字颜色和下划线, 是不能继承它的父元素的, 即不被父元素的样式所改变.
- h标签的文字大小, 是不能继承的, 只能单独设置这些<h>标签的字体大小.



[source, html]
....
<div> father <p>son</p></div>
....

[source, css]
....
div {
    font-size: 20px;   //能继承
    background: #bbddff;  //不能被继承
}
....

image:./img_ui\csst特性_继承.png[]


---

== 2. 层叠性: 后者覆盖前者

如果两个选择器, 同时选中了同一个元素, 并且设置了同一个样式, 但值却不同, 这就冲突了, 浏览器最终会显示出哪一个样式呢? 浏览器的渲染机制是从上到下的，**当有冲突的时候,就采用最后的那个样式.**

[source, html]
....
<p id="id_p1">i am p</p>
....

下面两个css规则, 都对p元素进行了样式设置, 那最终生效的是哪个呢? 是**后者覆盖前者.** 因此p元素是红色的字体.
[source, css]
....
p {
    color: #bbddff
}

#id_p1 {
    color: red  /*这最后一个样式, 被采用*/
}
....

---

== 3. 优先级

==== 3-1. css样式的优先级顺序 : !important > 行内样式 > id选择器 > 类选择器 > 标签选择器 > 通配符 > 继承

注意, 虽然有层叠性的存在, 但还有优先级的效果:  +

**!important > 行内样式 > id选择器 > 类选择器 > 标签选择器 > 通配符 > 继承**  (即,目标元素是由于选中父类后, 间接导致子类被选中的.)

[source, css]
....
#id_p1 {
    color: red  /*由于id选择器, 大于标签选择器, 所以本例还是会显示红色.*/
}

p {
    color: #bbddff
}
....

---

==== 3-2. !important

!important为开发者提供了一个增加样式权重的方法。提升为最高权重.

注意点:
**!important 只能用于直接选中, 不能用于间接选中.**
通配符选择器中的标签, 也是直接选中的.

[source, html]
....
<p id="id_p1">i am p</p>
....

[source, css]
....
#id_p1 {
    color: red
}

p {
    color: #bbddff !important;
    /*注意, 虽然"id选择器"的权重, 比"元素选择器"要高 ,
    但由于我们在这里使用了"!important", 会将本样式的权重, 提到最高.
    所以p元素还是会显示#bbddff颜色.
    */
}
....

---

==== 3-3. 权重计算公式

当多个选择器混合在一起使用时, 我们可以通过计算权重, 来判断谁的优先级最高.

4个等级的定义如下：

|===
|等级 | |写法举例 |权值

|第一等
|内联样式
|style=””
|1000

|第二等
|id选择器
|#content
|100

|第三等
|class类，伪类, prop属性选择器
|.content
|10

|第四等
|元素类型选择器, 伪元素选择器
|div p
|1

|===

权重的计算规则:

1. 首先**先计算选择器中有多少个id**，id多的选择器优先级最高.
2. 如果id的个数一样，那么**再看class类名的个数，**class类名个数多的,优先级最高.
3. 如果class类名的个数一样，那么**再看元素标签名称的个数**，元素标签名称个数多的, 优先级最高.
4. 如果id个数一样，class类名个数也一样，元素标签名称个数也一样，那么就不会继续往下计算了，那么此时**谁写在后面, 就听谁的.**


注意点:

1. 只有选择器是直接选中标签的(而不是通过选中父元素, 才间接影响到子元素的), 才需要计算权重.


---

