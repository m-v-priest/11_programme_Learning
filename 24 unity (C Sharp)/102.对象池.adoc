
= 对象池
:sectnums:
:toclevels: 3
:toc: left
''''


== 对象池 The Object Pool Pattern

技能不断被释放出来后, 不断将效果物体, 创建, 销毁, 很耗费cpu资源, 所以我们就要重复利用创建出来的资源.

我们可以创建一个"池子"对象池（也称为资源池）, 将用过的对象保存起来，等下一次需要这种对象的时候，再拿出来重复使用。这可以减少频繁销毁和创建对象所造成的开销。

对象池技术包括: 线程池、数据库连接池、任务队列池、图片资源对象池等。

当然，如果要实例化的对象较小，不需要多少资源开销，就没有必要使用对象池模式了.


对象池的模式是这样的:
[options="autowidth"]
|===
|Header 1 |Header 2

|在初始化池子的时候, 就创建好对象, 并设置为非激活状态.
|image:img/0197.png[,]

|当我们需要创建物体时, 就激活池子里的对象
|image:img/0198.png[,]

|当我们要销毁物体时,就将物体的状态设置为非激活
|image:img/0199.png[,]

image:img/0201.jpg[,]

image:img/0200.webp[,]
|===

- 同一类型的多个物体, 我们就把它们放在列表中: List<T>
- 不同类型的, 每个类型都有多个物体, 我们就把它们放在字典中: Dictionary<key=string, value=List<T>>  //key代表类别, value代表该类别下的多个游戏对象.
















