
= 001 安装, 登录 mysql
:toc: left
:toclevels: 3
:sectnums:
:stylesheet: myAdocCss.css

'''

== 官方文档

中文文档 https://www.mysqlzh.com/doc/24.html

'''

== 安装 mysql


[.small]
[options="autowidth" cols="1a,1a"]
|===
|Header 1 |Header 2

|mysql 下载地址:
|https://dev.mysql.com/downloads/mysql/

image:/img/0001.png[,%]

image:/img/0002.png[,%]

|解压后, 复制到这个目录中: C:\Program Files\mysql-9.4.0-winx64
|image:/img/0003.png[,%]

|在你的mysql该目录下, 创建 my.ini 配置文件
|image:/img/0004.png[,%]

输入如下内容:
....
[client]
# 设置mysql客户端默认字符集
default-character-set=utf8

[mysqld]
# 设置3306端口
port=3306

# 设置mysql的安装目录
basedir=C:\Program Files\mysql-9.4.0-winx64

# 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错
# datadir=C:\\web\\sqldata
# 允许最大连接数
max_connections=20
# 服务端使用的字符集默认为8比特编码的latin1字符集
character-set-server=utf8
# 创建新表时将使用的默认存储引擎
default-storage-engine=INNODB
....

|===

'''

== 初始化数据库

用管理员身份, 打开 win PowerShell, 依次执行以下命令:

- cd "C:\Program Files\mysql-9.4.0-winx64" //注意: 必须加双引号, 因为在 PowerShell 中，路径中包含空格的话, 会导致 PowerShell 无法识别它是一个完整的路径，而是将其分开处理了。 解决方法是: #*如果路径包含空格，你需要用引号将整个路径括起来。*# 或者使用 Tab 键自动补全。当你输入 cd C:\Pro 后，按一下 Tab 键，PowerShell 就会自动帮你补全并加上引号.
- cd bin
- .\mysqld --initialize --console //#*注意: 你需要在命令前面加上 .\ 来明确告诉 PowerShell：“我要执行的是当前目录下的这个程序”。
.\ 代表“当前目录”。*#


image:/img/0005.png[,%]

image:/img/0006.png[,%]

image:/img/0007.png[,%]

'''

== 将mysql 变成一个服务, 以后就可以直接启动这个服务了

输入:

- ./mysqld install mysqlZZZ //制作一个名叫 mysqlZZZ 的服务

要启动该服务时, 输入以下命令即可:

- net start mysqlZZZ

要关闭该服务时, 输入以下命令即可:

- net stop mysqlZZZ

image:/img/0008.png[,%]


image:/img/0009.png[,%]

'''

== 登录 MySQL


当 MySQL 服务已经运行时, 我们可以通过 MySQL 自带的客户端工具登录到 MySQL 数据库中, 首先打开命令提示符, 输入以下格式的命名:

[source, sql]
....
mysql -h 主机名 -u 用户名 -p
....

参数说明：

....
-h : 指定客户端所要登录的 MySQL 主机名, 登录本机(localhost 或 127.0.0.1)该参数可以省略;
-u : 登录的用户名;
-p : 告诉服务器将会使用一个密码来登录, 如果所要登录的用户名密码为空, 可以忽略此选项。
....

如果我们要登录本机的 MySQL 数据库，只需先进入bin目录 (C:\Program Files\mysql-9.4.0-winx64\bin), 再输入以下命令即可：

- net start mysqlZZZ
-  ./mysql -u root -p



image:/img/0010.png[,%]




'''

== 修改你的root 密码

在您第一次使用 mysqld --initialize 命令初始化 MySQL 服务器时, --initialize 命令会随机为 root 用户生成一个临时密码，并将其保存在日志文件中（或者在控制台中显示）。*为了安全起见，MySQL 强制您在第一次登录后立即修改这个临时密码。在您修改密码之前，您无法执行任何数据库操作，比如 SHOW DATABASES;。*


您需要使用 ALTER USER 语句, 来修改您的 root 用户的密码。请在 mysql> 提示符下执行以下命令：

[source, sql]
....
ALTER USER 'root'@'localhost' IDENTIFIED BY '新密码';
....

分号：请记得在命令的末尾加上分号 ;。

image:/img/0011.png[,%]



'''
